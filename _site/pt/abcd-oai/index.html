<!DOCTYPE html>
<html lang="pt"  class="no-js">
  <!-- Copyright 2019-2021 Vanessa Sochat-->
  <head>
<meta charset="utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Jekyll" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">

<link rel="alternate" type="application/rss&#43;xml" href="/docs/index.xml">

<link rel="shortcut icon" href="/assets/favicons/favicon.ico" >
<link rel="icon" type="image/png" href="/assets/favicons/favicon.png" sizes="16x16">

 
 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M0LM60C9WY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M0LM60C9WY');
</script>

 

<title>O abc do ABCD 2.0f</title>
<meta property="og:title" content="O abc do ABCD 2.0f" />
<meta property="og:description" content="Este documento tem como objetivo fornecer todas as informações e instruções relevantes sobre como usar a biblioteca integrada e o sistema de gerenciamento de documentação ‘ABCD’. Tanto as operações básicas como o gerenciamento avançado do software são discutidos, assim como os tópicos úteis e necessários relativos ao software ISIS no qual o ABCD se baseia. Nesta nova edição, as novas características da versão 2.0 são adicionadas- o uso de diferentes sabores de CISIS, de Unicode e as capacidades da biblioteca digital, bem como alguns módulos adicionais (ODDS, LDAP, DSpaceBridge) e utilitários (conversão UTF8, criação de objetos de empréstimo…) ." />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:9898" />
<meta property="og:site_name" content="http://localhost:9898" />

<meta itemprop="name" content="O abc do ABCD 2.0f">
<meta itemprop="description" content="">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="O abc do ABCD 2.0f"/>
<meta name="twitter:description" content="Este documento tem como objetivo fornecer todas as informações e instruções relevantes sobre como usar a biblioteca integrada e o sistema de gerenciamento de documentação ‘ABCD’. Tanto as operações básicas como o gerenciamento avançado do software são discutidos, assim como os tópicos úteis e necessários relativos ao software ISIS no qual o ABCD se baseia. Nesta nova edição, as novas características da versão 2.0 são adicionadas- o uso de diferentes sabores de CISIS, de Unicode e as capacidades da biblioteca digital, bem como alguns módulos adicionais (ODDS, LDAP, DSpaceBridge) e utilitários (conversão UTF8, criação de objetos de empréstimo…) ."/>

<link rel="stylesheet" href="/assets/css/main.min.css">

<script
  src="/assets/js/jquery-3.3.1/jquery-3.3.1.min.js"></script>


  
  
    
  <link rel="alternate" hreflang="en" href="/en/abcd-oai/" />
    
  <link rel="alternate" hreflang="pt" href="/pt/abcd-oai/" />
    
  

  
</head>

  


  <body class="td-section">
    
<header>
    <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/pt">
            <span class="navbar-logo"></span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 167.73 167.77"><defs><style>.cls-1{fill:#ffffff;}</style></defs><g id="Camada_2" data-name="Camada 2"><g id="Camada_1-2" data-name="Camada 1"><path class="cls-1" d="M66.62,83.14c-41-2.06-66.62,18-66.62,18V18.42S20.94-.08,66.62,0Z"/><path class="cls-1" d="M84.59,66.62c2.06-41-18-66.62-18-66.62h82.73s18.5,20.94,18.42,66.62Z"/><path class="cls-1" d="M101.11,84.63c41,2.06,66.62-18,66.62-18v82.74s-20.94,18.49-66.62,18.41Z"/><path class="cls-1" d="M83.14,101.15c-2.06,41,18,66.62,18,66.62H18.42S-.08,146.83,0,101.15Z"/></g></g></svg><span class="text-uppercase font-weight-bold">O abc do ABCD 2.0f</span>
        </a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
            
			<li class="nav-item mr-4 mb-2 mb-lg-0">
                <a class="nav-link" href="/pt//" ><span>Início</span></a>
			</li>
			<li class="nav-item mr-4 mb-2 mb-lg-0">
                <a class="nav-link" href="/pt/docs" ><span>Documentação</span></a>
			</li>
			<li class="nav-item mr-4 mb-2 mb-lg-0">
                <a class="nav-link" href="/pt/collab" ><span>Colaboração</span></a>
			</li>
			<li class="nav-item mr-4 mb-2 mb-lg-0">
                <a class="nav-link" href="/pt/about" ><span>Sobre</span></a>
			</li>


  <li class="nav-item dropdown mr-4 d-none d-lg-block">
    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Português</a>
    <div class="dropdown-menu">
        
            
            
            
                

                <a title="Ver em English" class="en dropdown-item" href="/en/abcd-oai/">English</a>


            

                <a title="Ver em Português" class="pt dropdown-item" href="/pt/abcd-oai/">Português</a>


            
            
        
   </div>
  </li>

		</ul>
	</div>
	
    <div class="navbar-nav d-none d-lg-block">
        <input type="search" class="form-control td-search-input" placeholder="&#xf002 Buscar no site…" aria-label="Search this site…" autocomplete="off"> 
    </div>
   
	<div class="navbar-nav d-none d-lg-block">
          <a class="gh-source" data-gh-source="github" href="https://github.com/ABCD-Community/ABCD-Community.github.io" title="Go to repository" data-md-state="done">
            <i class="fab fa fa-github fa-2x" style='color: #fff;padding-right:20px; float:left; margin-top:5px'></i></a>
        </div>
      </div>


</nav>
</header>


    <div class="container-fluid td-outer">
      <div class="td-main">

        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
          <div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    <input type="search" class="form-control td-search-input" placeholder="&#xf002 Buscar no site…" aria-label="Search this site…" autocomplete="on">
      <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
      </button>
  </form>  

  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <div class="nav-item dropdown d-block d-lg-none pl-4">
      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Português</a>

      <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">

        
            
            
            
                

                <a title="Ver em English" class="en dropdown-item" href="/en/abcd-oai/">English</a>


            

                <a title="Ver em Português" class="pt dropdown-item" href="/pt/abcd-oai/">Português</a>


            
            
        
      </div>
    </div>


    
      <ul class="td-sidebar-nav__section pr-md-3"> 

        
        

        <li class="td-sidebar-nav__section-title">
          <a  href="" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section"></a>
        </li>
        
      </ul>
    
      <ul class="td-sidebar-nav__section pr-md-3"> 

        
        

        <li class="td-sidebar-nav__section-title">
          <a  href="/pt/docs" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Home</a>
        </li>
        
          <ul>
            <li class="collapse show" id="home">
              <ul class="td-sidebar-nav__section pr-md-3">
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/abcd-introduction
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Introdução
                    </a>
                  </li>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/abcd-technology
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Tecnologia ABCD
                    </a>
                  </li>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/abcd-installation
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Instalação
                    </a>
                  </li>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/abcd-modules
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Módulos
                    </a>
                  </li>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/abcd-utilities
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Utilitários
                    </a>
                  </li>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/abcd-thesaurus
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Thesaurus
                    </a>
                  </li>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/abcd-odds
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">O Serviço de Entrega de Documentos Online (ODDS)
                    </a>
                  </li>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/abcd-digital-library
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Características da biblioteca digital
                    </a>
                  </li>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/abcd-oai
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">A interface OAI
                    </a>
                  </li>
                  
                    <ul>
                      <li class="collapse show" id="">
                        
                      </li>
                    </ul>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/abcd-opac
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">OPAC
                    </a>
                  </li>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/opac-iah
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">iAH OPAC
                    </a>
                  </li>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/abcd-site
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">ABCD Site
                    </a>
                  </li>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/secs-web
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Controle de periódicos
                    </a>
                  </li>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/abcd-unicode
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">ABCD Unicode
                    </a>
                  </li>
                  
                
                  <li class="td-sidebar-nav__section-title">
                    <a href="
                                /pt/abcd-localisation
                             " 
                       class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Localização e pastas
                    </a>
                  </li>
                  
                
              </ul>
            </li>
          </ul>
        
      </ul>
    
  </nav>
</div>

          </aside> <!--col-12 col-md-3 col-xl-2 td-sidebar d-print-none-->
          
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            <div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
                  <a href="https://github.com/ABCD-Community/ABCD-Community.github.io/edit/main/pt/abcd-oai/index.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Editar esta página</a>

<a href="https://github.com/ABCD-Community/ABCD-Community.github.io/issues/new?labels=question&title=Question:&body=Question on: https://github.com/ABCD-Community/ABCD-Community.github.io/tree/master/pt/abcd-oai/index.md" target="_blank"><i class="fab fa-github fa-fw"></i> Criar questão de documentação</a>

<a href="https://github.com/ABCD-Community/ABCD-Community.github.io/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Apontar um problema no projeto</a>
<!-- this will parse through the header fields and add a button to open
     an issue / ask a question on Github. The editable field should be in
     the post frontend matter, and refer to the label to open the issue for -->

            </div>
            <div class="td-toc">
              <nav id="TableOfContents">
                <ul id="TOC">
                   <!-- Links will be appended here-->
                </ul>
              </nav>
            </div>
 
          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">     

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
              <ol class="breadcrumb spb-1">
              
              
                <li class="breadcrumb-item">
                  <a href="http://localhost:9898/pt/">Pt</a>
                </li>
                
                <li class="breadcrumb-item active" aria-current="page">
	          <a href="http://localhost:9898/pt/abcd-oai/">A interface ABCD OAI</a>
                </li>
                
	      </ol>
           </nav>

           <div class="td-content">

	      <h1 id="the-abcd-oai-interface">The ABCD OAI interface</h1>

<h2 class="no_toc no_toc text-delta" id="conteúdo">Conteúdo</h2>

<ol id="markdown-toc">
  <li><a href="#the-abcd-oai-interface" id="markdown-toc-the-abcd-oai-interface">The ABCD OAI interface</a>    <ol>
      <li><a href="#breve-introdução-ao-conceito-oai-pmh" id="markdown-toc-breve-introdução-ao-conceito-oai-pmh">Breve introdução ao conceito OAI-PMH.</a></li>
      <li><a href="#implementação-e-configuração-no-abcd" id="markdown-toc-implementação-e-configuração-no-abcd">Implementação e configuração no ABCD</a>        <ol>
          <li><a href="#configuração-da-interface" id="markdown-toc-configuração-da-interface">Configuração da interface</a>            <ol>
              <li><a href="#a-configuração-geral" id="markdown-toc-a-configuração-geral">A configuração geral</a></li>
            </ol>
          </li>
          <li><a href="#a-configuração-dos-bancos-de-dados" id="markdown-toc-a-configuração-dos-bancos-de-dados">A configuração dos bancos de dados</a>            <ol>
              <li><a href="#a-definição-do-banco-de-dados" id="markdown-toc-a-definição-do-banco-de-dados">A definição do banco de dados:</a></li>
            </ol>
          </li>
        </ol>
      </li>
      <li><a href="#using-the-interface" id="markdown-toc-using-the-interface">Using the interface</a>        <ol>
          <li><a href="#identify" id="markdown-toc-identify">Identify</a></li>
          <li><a href="#listmetadataformats" id="markdown-toc-listmetadataformats">ListMetadataFormats</a></li>
          <li><a href="#listsets" id="markdown-toc-listsets">ListSets</a></li>
          <li><a href="#listidentifiers" id="markdown-toc-listidentifiers">ListIdentifiers</a></li>
          <li><a href="#listrecords" id="markdown-toc-listrecords">ListRecords</a></li>
          <li><a href="#listrecord" id="markdown-toc-listrecord">ListRecord</a></li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<hr />

<p>Esta seção apresentará a interface ABCD OAI, que é uma implementação do ‘Provedor-ISIS-OAI’ da Bireme, uma ferramenta geral para fornecer acesso aos bancos de dados do ISIS através do protocolo OAI-PMH.</p>

<h2 id="breve-introdução-ao-conceito-oai-pmh">Breve introdução ao conceito OAI-PMH.</h2>

<p>OAI, ou ‘Open Archive Initiative’ é uma iniciativa mundial nas comunidades da informação para aproveitar as informações de uma maneira aberta e livre.</p>

<p>Para obter mais informações sobre esta organização, o ‘Openarchives.org’, consulte [http://www.openarchives.org.] (Http://www.openarchives.org/)</p>

<p>A iniciativa de arquivos abertos desenvolve e promove padrões de interoperabilidade que visam facilitar a disseminação eficiente do conteúdo. A OAI tem suas raízes nos movimentos de acesso aberto e repositório institucional.</p>

<p>As três principais áreas de atividade atuais são:</p>
<ol>
  <li>OAI-PMH: Protocolo OAI para colheita de metadados: um protocolo para permitir a recuperação de metadados em documentos eletrônicos com um padrão aberto, o que significa que não é necessário usar o software com o qual os metadados foram/são gerenciados.</li>
  <li>Especificação da estrutura do ResourceSync: um protocolo para possibilitar que os servidores sincronizem suas referências a recursos que possam se mover ou migratir no www, de modo a permanecer sempre atualizados (apontando para a URL correta)</li>
  <li>Open Archives Initiative Object Exchange and Reuse : um mecanismo para permitir que ‘documentos informativos ricos’ (com imagens, filmes etc.) sejam apresentados como um ‘recurso agregado’ independente da localização individual dos componentes. Por exemplo, mídia social A intenção é desenvolver padrões que generalizem todas as informações baseadas na web, incluindo as crescentes redes sociais populares da “web 2.0”.</li>
</ol>

<p>No ABCD, a primeira destas três características é implementada: o Protocolo de Colheita de Metadados ou OAI-PMH. O OAI-PMH é o principal protocolo desenvolvido e promovido pela OAI, e descrito como:</p>

<blockquote>
  <p>O “Open Archives Initiative Protocol for Metadata Harvesting” (OAI-PMH) é um mecanismo de baixa barreira para a interoperabilidade dos 
repositórios. Os provedores de dados são repositórios que expõem metadados estruturados através do OAI-PMH. Os Provedores de serviços então 
fazem solicitações de serviço OAI-PMH para coletar esses metadados. OAI-PMH é um conjunto de seis verbos 
ou serviços que são invocados dentro do HTTP. ”</p>
</blockquote>

<p>A idéia é fornecer acesso a informações ‘abertas’ baseadas em meta-dados, na medida do possível de forma ‘genérica’ e aberta,
o que significa que qualquer necessidade de software específico deve ser evitada. Por este motivo, o protocolo permite em 6 ‘verbos’.
ou comandos que permitam identificar adequadamente a fonte das informações e a recuperação de meta-dados básicos
informações de documentos disponíveis, muitas vezes em um “repositório”, seja em uma lista de documentos-identificadores ou, com base em um
tal identificador, um documento específico. A fim de facilitar a atualização dos repositórios, retirando suas informações de outros
repositórios, as seleções podem ser limitadas por datas.</p>

<h2 id="implementação-e-configuração-no-abcd">Implementação e configuração no ABCD</h2>

<p>A implementação no ABCD é totalmente baseada na ferramenta “ISIS-OAI-PROVIDER” produzida pela BIREME como parte
de sua Biblioteca Virtual de Saúde (ver, por exemplo, o website sobre esta ferramenta <a href="http://wiki.bireme.org/en/index.php/Isis-oai-provider">https://github.com/bireme/isis-oai-</a> e para baixar o software original o repositório GitHub: <a href="http://wiki.bireme.org/en/index.php/Isis-oai-provider">https://github.com/bireme/isis-oai-</a>. <a href="http://wiki.bireme.org/en/index.php/Isis-oai-provider">Provido por</a></p>

<p>Como nenhum software relacionado ao ABCD ou outro ISIS pode existir ao lado dos usuários, o mecanismo é fornecer uma URL e apresentar a interface como apenas uma página web de livre acesso. Portanto, nenhum link de dentro do ABCD (por exemplo, no módulo “Central”) é fornecido, mas a URL deve ser inserida diretamente na barra de endereços do navegador (ou referenciada por um atalho, etc.). No caso de uma instalação ABCD ‘localhost:9090’, este URL seria: http://localhost:9090/isis-oai-provider/index.php.</p>

<p>A página aberta por esse URL deve ser como a ilustração a seguir:</p>

<p><img src="https://lh5.googleusercontent.com/f1EYMwsBO1rReclD6jf-NCB0IKaarFg-mYaPDhikP964JQ4kTHP3YpEOte8zKnhgHuQKyhQ4e0qb980FJtvbN0OrkCxWfmnkyHJKYHBJxRFvCqpXCLB081DSmDvjIhhDGjPofXw=s0" alt="" /></p>

<p>Como pode ser visto, na parte esquerda do acesso à interface é dada a cada um dos 6 principais ‘verbos’ ou operadores, com uma breve descrição de cada verbo após a seleção de um deles, enquanto na parte direita a interâmica do usuáriopossui duas partes: os critérios definidos pelo usuário na parte superior e o XML-Output (a ser ‘capturado’ com cópia/pasta, em alguns navegadores da ‘fonte do quadro’ se o código XML completo for necessário) como oresultado da ação de colheita.</p>

<p>Primeiro discutiremos brevemente a configuração necessária para fazer com que isso funcione para o ISIS-Databases local no ABCD e depois discutirá cada um dos 6 verbos com alguma ilustração.</p>

<h3 id="configuração-da-interface">Configuração da interface</h3>

<p>Configurando o ABCD para a interface OAI compreende duas partes: uma configuração geral e um arquivo de configuração para todos os bancos de dados envolvidos.</p>

<h4 id="a-configuração-geral">A configuração geral</h4>

<p>O arquivo ‘oai-config.php’ está localizado na ‘raiz’ do módulo <strong>isis-oai-provider</strong> no ABCD, que é armazenado, ao lado de outros módulos como central, iah, secs-web e site, na pasta htdocs do ABCD. Uma visão típica do gerenciador de arquivos do Windows do conteúdo desta pasta se parece com isto:</p>

<p><img src="https://lh3.googleusercontent.com/7S58qqg99TZ3eMo4ikRuv8OWoNFdufxw6jigaiASdp-uX_yVx4XqTrUSCxaDAYry-oAP0z5WdnXU6KAf5iyMhtDcJY8ocLAuSx-7Lg7xDze5rLfbu_u9XhHil8_85lpCu-Kkl-E=s0" alt="" /></p>

<p>Assim, este módulo usa suas próprias folhas de estilo e imagens CSS, permite a aplicação de gizmo’s e usa um arquivo JavaScript com ‘funções’ chamadas a partir dos scripts. Os sudiretórios mais importantes aqui são :</p>

<ul>
  <li>
    <p><strong>lib</strong>: este diretório contém os principais scripts PHP para a interface, em parte obtidos - herdados - das bibliotecas gerais PHP-OAI (por exemplo, OAIServer.php) e em parte dedicados a scripts PHP para lidar com as respostas ISIS-bases de dados (ISISD- b.php) ou um (ISISItem.php) ou mais (ISISItemFactory.php) registros ISIS. Os scripts de análise de configuração também estão aqui para analisar a configuração do ABCD-OAI ou o ‘mapeamento’ dos campos do banco de dados para o padrão Dublin Core.</p>
  </li>
  <li>
    <p><strong>map</strong>: este diretório contém pelo menos um arquivo para cada banco de dados envolvido, ou seja, seguindo uma das duas sintaxes permitidas: OAI_DC (arquivos com o nome do banco de dados seguido da extensão .i2x) ou ISIS (formatos mais tradicionais ISIS PFT com a extensão .pft). Este mapeamento será discutido em mais detalhes abaixo.</p>
  </li>
  <li>
    <p><strong>wxis</strong>: alguns ISISScripts usados pelo principal executável wxis (ISIS habilitado para web). getidientifiers.xis, getrecord.xis e gettotal.xis. Estas são instruções ISISScript bastante ‘normais’, tomando variáveis do ambiente CGI e depois especificando as instruções para operar sobre as variáveis, por exemplo, imprimir os títulos em um loop etc.</p>
  </li>
  <li>
    <p>No diretório isis-oai-provider principal encontramos a abertura PHP-script index.php (que contém a interface) e os arquivos de amostra e de configuração reais como PHP-scripts.</p>
  </li>
</ul>

<p>Para a configuração da interface ABCD-OAI, precisamos considerar dois arquivos: um para a configuração geral, outro para os bancos de dados.</p>

<p>Uma listagem de exemplo, como vem com a implementação da demonstração, é dada aqui, onde linhas começando com ‘;’ são comentários, por exemplo, para ilustrar as alternativas do Windows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[ENVIRONMENT]  
; Set the directory of application. The effect will be [http://your-site.org/DIRECTORY](http://your-site.org/DIRECTORY)

DIRECTORY=/isis-oai-provider 
;Full path to folder 'site' in folder bases. Windows users must NOT put letter unit in path
DATABASE_PATH=/var/opt/ABCD/bases/;
DATABASE_PATH=/ABCD/www/bases/ EXE_EXTENSION=;
EXE_EXTENSION=.exe

;Set the directory configured to execute cgi-bin applications.

CGI-BIN_DIRECTORY=/cgi-bin/ 

;[INFORMATION] 
;Set the repository's name. 
NAME=ABCD

; Set the email of the system admin [EMAIL=egbert.desmet@uantwerpen.be](mailto:EMAIL%3Degbert.desmet@uantwerpen.be) 
IDPREFIX=be

IDDOMAIN=netcat 
EARLIESTDATESTAMP=2011-01-01 
MAX_ITEMS_PER_PASS=20
</code></pre></div></div>

<p>Na seção <strong>[ENVIRONMENT]</strong>, as seguintes variáveis precisam ser definidas:</p>

<ul>
  <li><strong>DIRECTORY</strong>: a pasta do módulo, a partir do ‘ABCD DocumentRoot’ (como definido no servidor web, por exemplo, Apache), portanto, no caso padrão do ABCD no Linux, onde a raíz do documento é definida como ‘/opt/ABCD/wwww/ htdocs’, definir o DIRECTOY como ‘isis-oai-provider’ significa que o módulo OAI está localizado em /opt/ABCD/ wwww/htdocs/is-oai-provider.</li>
  <li><strong>DATABASE_PATH</strong>: o diretório onde os bancos de dados podem ser encontrados.</li>
  <li><strong>EXE_EXTENSION</strong>: a extensão a ser adicionada ao nome executável ‘wxis’, em Windows : “.exe”, no Linux não é utilizada nenhuma extensão.</li>
  <li><strong>CGI-BIN_DIRECTORY</strong> : the directory as it should be recognized in the URL. In the case of Apache the Apache- configuration explains which real directory corresponds with the URL ‘/cgi-bin/’.</li>
</ul>

<p>Na seção <strong>[INFORMATION]</strong> definimos:</p>

<ul>
  <li><strong>NAME</strong>: o nome do seu repositório, como você deseja que ele seja visto pelo usuário</li>
  <li><strong>EMAIL</strong>: O endereço de e-mail do administrador que pode ser contatado sobre o repositório</li>
  <li><strong>IDPREFIX</strong> and <strong>IDDOMAIN</strong>: juntos eles identificam o ‘domínio’ do servidor</li>
  <li><strong>EARLIESTDATESTAMP</strong>: Os dados iniciais do repositório, ou seja, a data dos documentos mais antigos, no formato YYYY-MM-DD.</li>
  <li><strong>MAX_ITEMS_PER_PASS</strong>: O número de registros a serem listados nos verbos ListIdentifers ou ListRecords.No final da lista, será fornecido um código de retomada que pode ser usado para definir o início do próximo lote.O padrão aqui são 20 itens.</li>
</ul>

<h3 id="a-configuração-dos-bancos-de-dados">A configuração dos bancos de dados</h3>

<p>Um ou mais bancos de dados podem ser usados na interface OAI, onde são referidos, no vocabulário da OAI, como “conjuntos”. A implementação da amostra no ABCD utiliza dois desses conjuntos: MARC (um catálogo marc21) e DUBCORE. (um repositório com papéis, mas este é apenas um exemplo de banco de dados de texto completo que o administrador do ABCD tem que implementar !)</p>

<h4 id="a-definição-do-banco-de-dados">A definição do banco de dados:</h4>

<p>Cada banco de dados precisa ser definido, mas também precisará de pelo menos um arquivo de ‘mapeamento’ que discutiremos depois das alas. Os parâmetros a serem definidos para cada um deles são bastante auto-explicativos, como nome, descrição, caminho (para os arquivos base de dados), banco de dados (o verdadeiro arquivo.nome ao qual será adicionado ‘.mst’ para definir o arquivo ISIS MST), enquanto alguns outros parâmetros podem ser brevemente explicados adicionalmente:</p>

<ul>
  <li><strong>mapping</strong>: o arquivo onde o ‘mapeamento’ (dos campos ISIS correspondentes com os elementos relacionados DublinCore) são descritos em um formato ‘DC’ muito simples (.i2x) ou um formato mais sofisticado baseado na linguagem de formatação ISIS (.pft), veja mais adiante;</li>
  <li><strong>idprefix</strong>: a cadeia a ser prefixada (adicionado “antes”) o identificador real ao listar os identificadores de registro; esta cadeia adicional é opcional;</li>
  <li><strong>cisis_version</strong>: este é o identificador da versão específica CISIS que é usada (a partir do ABCD2.0 podem ser usadas diferentes versões CISIS, por exemplo, BIGISIS ou UTF8/FFI etc.). A versão especificada aqui deve refletir a estrutura do (sub)diretório que se encontra no diretório ‘cgi-bin’ onde está localizado o ‘wxis’ correto (ou no Windows : wxis.exe) para lidar com o banco de dados concêntrico. Isto pode ser diferente para qualquer banco de dados definido.</li>
</ul>

<blockquote>
  <p>Nota:
Mudamos o nome original da variável ‘isis_key_length’ (por exemplo 1030, 1660…), 
mas de fato, no ABCD, a versão CISIS deve ser referida aqui. 
Esta é uma diferença real com a ferramenta padrão original da BIREME.</p>
</blockquote>

<ul>
  <li><strong>identifier-field</strong>: a etiqueta (número) do campo ISIS que contém o identificador do registro;</li>
  <li><strong>date-stamp-field</strong>: a etiqueta (número) do campo ISIS que contém o carimbo de dados do registro.</li>
</ul>

<p>Usamos os 2 bancos de dados ou ‘conjuntos’ mencionados anteriores para ilustrar a configuração de um banco de dados (neste caso para Linux):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    [marc] name=marc

description="MARC" 
path=/var/opt/ABCD/bases/marc/data database=/var/opt/ABCD/bases/marc/data/marc 
mapping=marc.i2x

prefix=oai_date_ cisis_version=ansi 
; identifier_field=1 
datestamp_field=980 [dubcore] 
name=dubcore  



description="DublinCore repository"
path=/var/opt/ABCD/bases/dubcore/data
database=/var/opt/ABCD/bases/dubcore/data/dubcore
mapping=dubcore.i2x

prefix=oai_date_ 
cisis_version=utf8/bigisis ; dentifier_field=111
datestamp_field=507
</code></pre></div></div>

<p>O ‘mapeamento’ do banco de dados explica como os campos ISIS correspondem com os elementos DC ou XML. É melhor ilustrar isto com base nas amostras fornecidas, começando com o exemplo muito simples ‘marc.i2x’ :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root=oai-dc 245 dc:title
500 dc:description
650 dc:subject
001 dc:identifier
980 dc:date
</code></pre></div></div>

<p>Primeiro, a cadeia ‘raiz’ é definida como sendo usada na interface registros-exibição. No caso do prefixo oai-dc usado (veja a seção ‘uso’ abaixo) basta colocar ‘oai-dc’.</p>

<p>Essa ‘raiz’ é seguida por uma lista de campos, um para cada linha, consistindo na ISIS-field-tag seguida pelo nome do elemento Dublin Core, por exemplo, o campo de título MARC21 245 torna-se: 245 dc-title. Observe que esta lista pode ser uma seleção de campos a serem mostrados. Os campos não definidos aqui apenas manterão a tag de campo como o elemento XML, sem tradução para um elemento DC adequado.</p>

<p>Quando uma formatação mais poderosa é desejada, por exemplo. no nível de subcampos, pode-se usar a sintaxe alternativa mais elaborada de uma PFT, referindo-se então a um arquivo com a extensão .pft. Tal PFT ‘imprime’ as tags XML necessárias, ou seja, as informações do líder XML, como ‘literais (strings entre aspas incondicionais):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;oai_dc:dc
xmlns:oai_dc="http://www.openarchives.org/OAI/2.0/oai_dc/"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd"&gt;'/
</code></pre></div></div>

<p>seguido pelos campos ISIS individuais na sintaxe da Linguagem de Formatação usada para adicionar literais para a saída DC-XML, no caso de, por exemplo, o ‘título’ (v2 no Dubcore):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if p(v2) then
(| &lt;dc:title&gt;&lt;![CDATA[|v2^*|]]&gt;&lt;/dc:title&gt;|/), 
fi,
</code></pre></div></div>

<p>or, for the title and authors n MARC :</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if p(v245) then
(| &lt;dc:title&gt;&lt;![CDATA[|v245^*|]]&gt;&lt;/dc:title&gt;|/),
| &lt;dc:title&gt;&lt;![CDATA[|v246^*|]]&gt;&lt;/dc:title&gt;|/,
fi,
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if p(v100) or p(v110) then
(if p(v100) then
| &lt;dc:creator&gt;&lt;![CDATA[|v100^*|]]&gt;&lt;/dc:creator&gt;|/,
else
| &lt;dc:creator&gt;&lt;![CDATA[|v110^*|]]&gt;&lt;/dc:creator&gt;|/,
fi), fi
</code></pre></div></div>
<p>which should be read as : if the title is present then print the XML tags <code class="language-plaintext highlighter-rouge">&lt;dc:title&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;/dc:title&gt;</code> with the actual value of v2 (any subfield, indicated by the <code class="language-plaintext highlighter-rouge">^*</code> operator, in between the [CDATA[…] attribute.
Any more complicated PFT-statements can be used, e.g. for displaying the document-format, if it is indicated in
<code class="language-plaintext highlighter-rouge">v9</code> :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>' &lt;dc:format&gt;'select s(mpu,v9,mpl)
case 'A':'text',if p(v8^q) then '/'v8[1]^q fi,
case 'MATERIAL TEXTUAL':'text',
case 'G':'video',
case 'I':'audio',
elsecase if a(v9) then 'text',if p(v8^q) then '/'v8[1]^q fi, 
else 'other' fi
endsel,
'&lt;/dc:format&gt;'/,
</code></pre></div></div>
<p>Any sequence of ISIS-fields can be treated this way, but fields not mentioned here will be omitted from the output.
Instead of fields also subfields or groups of fields can be used, using the power of the Formatting Language.
Best is to re-use an existing model, as provided with the demo-installation, for a new different local database, mostly adapting the field-tags to the local structure of the database. One has to be very careful, as always with the ISIS Formatting Language : missing a quote or any other syntax mistake will  produce no output at all but some error messages in the XML-output !</p>

<h2 id="using-the-interface">Using the interface</h2>

<p>When everything is properly configured - a lot of preliminary testing is advised, after all OAI means exposing your database to the whole world ! - the following outputs can be obtained, presented by each one of the six OAI- PHM ‘verbs’ :</p>

<blockquote>
  <p>Note: 
With most illustratoins under here, the XML-output is
incomplete, in other words : the actual output contains more data but
only part can be shown here.</p>
</blockquote>

<blockquote>
  <p>Note: The illustrations are generated with the Firefox browser,
immediately showing the XML-output because no XML-style being
available (‘This XML file does not appear to have any style
information associated with it. The document tree is shown below’).
Other browsers might show just the text-output, the full- XML still
being available by right-clicking and requesting the ‘frame-source’.</p>
</blockquote>

<h3 id="identify">Identify</h3>

<p>This verb returns the main protocol information. Compulsory parameters verb (automatcially entered by electing this verb).</p>

<p>The output contains all necessary information as agreed per the protocol, e.g. the ‘name’ of the protocol as indicated in the oai-config script.</p>

<h3 id="listmetadataformats">ListMetadataFormats</h3>

<p><img src="https://lh3.googleusercontent.com/6f0E2NSTeGar6fjrd1bcAQeZYQHtzva_3wkuqxdLr7cH2AhUhehTCmeMWIzT6qQ7OEzPjcntEt6jp7cLRcKMHKYJDQ79JxOzv30AMn0GnCjGKMre-M10TpimikTVIj9IU0bW0Ng=s0" alt="" /></p>

<p>This verb describes the metadata formats used in the protocol. Compulsory parameters verb In ABCD we use two different formats : oai_dc and isis. which will correspond with the ‘mapping’ file defined, either i2x (for oai- dc) or pft for isis.</p>

<h3 id="listsets">ListSets</h3>

<p><img src="https://lh5.googleusercontent.com/noGNA6WpWzDJxl6TocVjIGVOqHIvH6TE0Ro8xvhUJ2QUV7sVVafS3BxxjpJ7fXltzKKoXG3oItP1Gv9aOWsffrrTBOtkypv-P97sgRfWOjfuMxkwe9HBKzJbmRsyMIC126_ozTU=s0" alt="" /></p>

<p>Retrieves a list of all databases available on this repository. Compulsory parameters verb Exclusive parameter resumptionToken</p>

<blockquote>
  <p>Note:
‘exclusve parameter’ means that this parameter is not allowed as
it is incompatible with the idea of the verb itself. The interface
will not allow to put an exclusive parameter.</p>
</blockquote>

<p>In case of our 2 demo-databases here (marc and dubcore) the output will look somethng like :</p>

<h3 id="listidentifiers">ListIdentifiers</h3>

<p><img src="https://lh3.googleusercontent.com/wQz-eoTP6LfgmBsBfS5LOkwIYxbc9B5v5qbgeF_ELnZ8MYvXG5OVBFAVVgbhVV49Fw2POb-tmj9lnHKkRgJOAMk19X7Nx9MQSYIIdbbguixg_GHD8H543cwSkX1qj7CQgadwdo8=s0" alt="" /></p>

<p>This verb retrieves a list with the single identifier of each document published. Compulsory parameters verb metadataPrefix Optional parameters from until set Exclusive parameter resumptionToken retrieves a list with the single identifier of each document published. Compulsory parameters verb metadataPrefix Optional parameters from until set Exclusive parameter resumptionToken.</p>

<p>Depending on the field given in the database configuration as containing the identifier of the record, the records will be listed with that field :</p>

<p><img src="https://lh6.googleusercontent.com/91zcJCxAgaa4bosa0f86nu4spU7pi8-u4yEWuEsrfWeC1NO64TgeBCvxpA4gAQC19JG0HrgGupXIq87AKwIUiZkrH-D1-ujis6oPuwNcHF7KdtJGJt52JgnA3sIpN5kh63Vp0hE=s0" alt="" /></p>

<p>We are showing here the end of the output, because an interesting feature is visible there : the ‘resumptionToken can be copied from there, to be filled in into the corresponding form-element in order to resume further listing with the given one as the first, so allowing subsequent batches to be retrieved (or ‘harvested’ in the IOAI-vocabulary).</p>

<p><img src="https://lh5.googleusercontent.com/C25Nq5y3MGwZVEA7wDJM1EbuiH8fYY4M3acSer7otCSUVTFUoeHTtFfbPoOaisLONg4GwPZbS6pesNUNg20QV4fDbDowQaxcpHtBlNT31Gdlg140RCVxsM1_XnOP81_1hZ1w5Jw=s0" alt="" /></p>

<h3 id="listrecords">ListRecords</h3>

<p>This verb retrieves the list of documents. Compulsory parameters verb metadataPrefix Optional parameters from until set Exclusive parameter resumptionToken .</p>

<p><img src="https://lh5.googleusercontent.com/C25Nq5y3MGwZVEA7wDJM1EbuiH8fYY4M3acSer7otCSUVTFUoeHTtFfbPoOaisLONg4GwPZbS6pesNUNg20QV4fDbDowQaxcpHtBlNT31Gdlg140RCVxsM1_XnOP81_1hZ1w5Jw=s0" alt="" /></p>

<p>As with ‘ListIdentifiers’ a resumptionToken can be used to continue listing more records starting from the last one shown before. Note that also ‘from’ and ‘until’ dates can be entered to limit the records listed to a given span of time.</p>

<h3 id="listrecord">ListRecord</h3>

<p>Finally, the last ‘verb’ is to retrieve the metadata of a specific record. Compulsory parameters verb metadataPrefix identifier. Shown here is one record form the dubcore demo-database, using the dubcore_dc.pft ‘mapping file’ which is also part of the demo.</p>

<p><img src="https://lh4.googleusercontent.com/14ZvlkoFGdbxtE8y1RxxOiA56KtM-91sVobilKzRbgSZ3eTm48vaS4FULlZRia7wxqYL1UekDhU7bkbJADaiHhEsJchq1pl--3lzBp7lQyb_DX-VQW_E5jP7C-CvLqdwMJ7SW_0=s0" alt="" /></p>

<script
  src="/assets/js/jquery-3.3.1/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

<script>
$(document).ready(function() {

    var toc = $('#TOC');

    // Select each header
    sections = $('.td-content h1');
        $.each(sections, function(idx, v) {
            section = $(v);
            var div_id = $(section).attr('id');
            var div_text = section.text().split('¶')[0];
            var parent = $("#" + div_id)
            var content = '<li id="link_' + div_id + '" class="md-nav__item"><small><a class="md-nav__link" href="#' + div_id + '" title="' + div_text +'">' + div_text +'</small></a></li>';
            $(toc).append(content);

            // Add section code to subnavigation
            var children = $('<nav class="md-nav"><ul class="md-nav__list"></nav></ul>')
            var contenders = $("#" + div_id).nextUntil("h1");
            $.each(contenders, function(idx, contender){
               if($(contender).is('h2') || $(contender).is('h3')) {
                   var contender_id = $(contender).attr('id');
                   var contender_text = $(contender).text().split('¶')[0];
                   var content = '<li class="md-nav__item"><a class="md-nav__link " href="#' + contender_id + '" title="' + contender_text +'"><small>' + contender_text +'</small></a></li>';
                   children.append(content);
                }
             })
             $("#link_" + div_id).append(children);
        });
    });
</script>

<script>
var headers = ["h1", "h2", "h3", "h4"]
var colors = ["red", "orange", "green", "blue"]

$.each(headers, function(i, header){
    var color = colors[i];
    $(header).each(function () {
        var href=$(this).attr("id");
        $(this).append('<a class="headerlink" style="color:' + color + '" href="#' + href + '" title="Permanent link">¶</a>')
    });
})
</script>



	
              
              <style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<div class="d-print-none">
<h2 class="feedback--title">Dê sua opinião</h5>
<p class="feedback--question">Esta página foi útil?</p>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Sim</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">Não</button>
<p class="feedback--response feedback--response-yes">
  Fico feliz em ouvir isso! Por favor, <a href='https://github.com/ABCD-Community/abcd-community.github.io/issues/new'>nos diga como podemos melhorar</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sinto muito em ouvir isso. Por favor, <a href='{{ site.repo  }}/issues/new'>diga-nos como podemos melhorar</a>.
</p>
</div>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script><br/>




           </div>

          </main> <!--col-12 col-md-9 col-xl-8 pl-md-5-->
        </div> <!--./row flex-xl-nowrap-->
      </div> <!--./td-main-->
      
      <footer class="bg-white py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        <ul class="list-inline mb-0">  
          
          
        </ul>
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        <ul class="list-inline mb-0">  
          <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="" aria-label="GitHub" data-original-title="GitHub">
            <a class="text-dark" target="_blank" href="https://github.com/ABCD-Community/ABCD-Community.github.io">
              <i class="fab fa-github"></i>
            </a>
          </li>
        </ul>
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-dark">© 2022 O abc do ABCD 2.0f All Rights Reserved</small>
        
        <p class="mt-2">

            
                <a href="/pt//" >Início</a> <span class="text-primary"> </span>
          
                <a href="/pt/docs" >Documentação</a> <span class="text-primary"> </span>
          
                <a href="/pt/collab" >Colaboração</a> <span class="text-primary"> </span>
          
                <a href="/pt/about" >Sobre</a> <span class="text-primary"> </span>
          

        </p>	
      </div>
    </div>
  </div>
</footer>

    </div> <!--./container-fluid td-outer--> 
    <script src="/assets/js/popper.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/main.js"></script>


<script src="/assets/js/tabpane-persist.js"></script>

  </body>
</html>
